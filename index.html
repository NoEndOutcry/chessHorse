<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–Ω–∏–º–∞—Ü–∏—è —Ö–æ–¥–∞ –∫–æ–Ω—è - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ—Å–∫–∞</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 800px;
            width: 100%;
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 2.2em;
        }

        .subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        .control-group label {
            font-size: 0.9em;
            color: #555;
            font-weight: 600;
        }

        button {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        button.pause {
            background: linear-gradient(45deg, #ff9800, #f57c00);
            box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3);
        }

        button.reset {
            background: linear-gradient(45deg, #f44336, #d32f2f);
            box-shadow: 0 4px 15px rgba(244, 67, 54, 0.3);
        }

        button.step {
            background: linear-gradient(45deg, #2196F3, #1976D2);
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
        }

        select {
            padding: 8px 15px;
            border: 2px solid #ddd;
            border-radius: 25px;
            font-size: 14px;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s ease;
        }

        select:focus {
            outline: none;
            border-color: #4CAF50;
        }

        .board-container {
            display: flex;
            justify-content: center;
            margin: 30px 0;
        }

        .chess-board {
            display: inline-grid;
            gap: 1px;
            background: #8B4513;
            padding: 10px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .chess-cell {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
            cursor: default;
            transition: all 0.3s ease;
            border-radius: 3px;
            position: relative;
        }

        .chess-cell.light {
            background: #F0D9B5;
        }

        .chess-cell.dark {
            background: #B58863;
        }

        .chess-cell.visited {
            background: #90EE90 !important;
            color: #2E7D32;
            transform: scale(0.95);
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
        }

        .chess-cell.current {
            background: #FF6B35 !important;
            color: white;
            animation: pulse 1s infinite;
            transform: scale(1.1);
            z-index: 10;
            box-shadow: 0 4px 15px rgba(255, 107, 53, 0.5);
        }

        .chess-cell.current::after {
            content: '‚ôû';
            position: absolute;
            font-size: 20px;
            top: -5px;
            right: -5px;
            color: #fff;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        @keyframes pulse {
            0% { transform: scale(1.1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1.1); }
        }

        .status-panel {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 20px;
        }

        .status-item {
            text-align: center;
        }

        .status-item .value {
            font-size: 2em;
            font-weight: bold;
            color: #4CAF50;
            display: block;
        }

        .status-item .label {
            color: #666;
            font-size: 0.9em;
            margin-top: 5px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            border-radius: 4px;
            transition: width 0.3s ease;
            width: 0%;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 10px;
            }
            
            .chess-cell {
                width: 35px;
                height: 35px;
                font-size: 12px;
            }
            
            .controls {
                gap: 10px;
            }
            
            button {
                padding: 10px 15px;
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üèá –•–æ–¥ –∫–æ–Ω—è</h1>
        <p class="subtitle">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π —à–∞—Ö–º–∞—Ç–Ω–æ–π –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∏</p>
        
        <div class="controls">
            <div class="control-group">
                <label>–†–∞–∑–º–µ—Ä –¥–æ—Å–∫–∏</label>
                <select id="boardSize" onchange="changeBoardSize()">
                    <option value="5">5√ó5 (25 —Ö–æ–¥–æ–≤)</option>
                    <option value="6">6√ó6 (36 —Ö–æ–¥–æ–≤)</option>
                    <option value="7">7√ó7 (49 —Ö–æ–¥–æ–≤)</option>
                    <option value="8">8√ó8 (64 —Ö–æ–¥–∞)</option>
                    <option value="9">9√ó9 (81 —Ö–æ–¥)</option>
                    <option value="10" selected>10√ó10 (100 —Ö–æ–¥–æ–≤)</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>–°–∫–æ—Ä–æ—Å—Ç—å</label>
                <select id="speed">
                    <option value="2000">üêå –û—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ</option>
                    <option value="1000">üö∂ –ú–µ–¥–ª–µ–Ω–Ω–æ</option>
                    <option value="500" selected>üèÉ –°—Ä–µ–¥–Ω–µ</option>
                    <option value="200">üèÉ‚Äç‚ôÇÔ∏è –ë—ã—Å—Ç—Ä–æ</option>
                    <option value="100">‚ö° –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ</option>
                </select>
            </div>
            
            <button onclick="startAnimation()">‚ñ∂Ô∏è –ù–∞—á–∞—Ç—å</button>
            <button class="pause" onclick="pauseAnimation()">‚è∏Ô∏è –ü–∞—É–∑–∞</button>
            <button class="reset" onclick="resetAnimation()">üîÑ –°–±—Ä–æ—Å</button>
            <button class="step" onclick="nextStep()">‚è≠Ô∏è –°–ª–µ–¥—É—é—â–∏–π —Ö–æ–¥</button>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div class="board-container">
            <div class="chess-board" id="chessBoard"></div>
        </div>

        <div class="status-panel">
            <div class="status-item">
                <span class="value" id="currentMove">0</span>
                <div class="label">–¢–µ–∫—É—â–∏–π —Ö–æ–¥</div>
            </div>
            <div class="status-item">
                <span class="value" id="totalMoves">100</span>
                <div class="label">–í—Å–µ–≥–æ —Ö–æ–¥–æ–≤</div>
            </div>
            <div class="status-item">
                <span class="value" id="completionPercent">0%</span>
                <div class="label">–ó–∞–≤–µ—Ä—à–µ–Ω–æ</div>
            </div>
        </div>
    </div>

    <script>
        // –ì–æ—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –¥–æ—Å–∫–∏
        const knightSolutions = {
            5: [[0,5,14,9,20],[13,8,19,4,15],[18,1,6,21,10],[7,12,23,16,3],[24,17,2,11,22]],
            6: [[0,11,20,29,2,13],[19,28,1,12,31,30],[10,21,32,27,14,3],[33,18,9,22,35,26],[8,23,34,17,4,15],[24,7,16,5,25,6]],
            7: [[0,15,32,41,2,17,34],[31,40,1,16,33,42,3],[14,29,44,35,46,19,18],[39,30,43,48,37,4,47],[28,13,36,45,20,23,38],[11,26,49,22,7,46,5],[12,27,10,25,24,9,6]],
            8: [[0,15,30,39,2,17,20,55],[29,38,1,16,41,54,3,18],[14,31,40,45,52,19,56,21],[37,28,47,42,57,44,53,4],[32,13,36,51,46,59,22,61],[27,48,33,58,43,62,5,8],[12,35,50,25,10,7,60,23],[49,26,11,34,63,24,9,6]],
            9: [[0,17,36,51,2,19,38,53,4],[35,50,1,18,37,52,3,20,39],[16,61,48,33,62,49,34,63,54],[47,34,65,60,71,36,55,40,21],[64,15,32,47,66,59,70,35,56],[31,46,75,14,73,44,57,22,41],[76,13,30,45,74,67,42,69,58],[29,80,77,12,25,72,43,68,23],[78,11,28,79,10,27,24,9,26]],
            10: [[0,51,26,43,2,49,38,9,4,7],[25,44,1,50,37,42,3,6,39,10],[52,27,54,45,72,59,48,41,8,5],[55,24,71,36,57,46,81,60,11,40],[28,53,56,73,82,85,58,47,80,61],[23,70,35,86,75,92,83,88,77,12],[34,29,74,91,84,87,76,97,62,79],[69,22,67,32,93,96,89,78,13,16],[30,33,20,95,90,65,18,15,98,63],[21,68,31,66,19,94,99,64,17,14]]
        };

        let currentBoardSize = 10;
        let currentStep = 0;
        let animationTimer = null;
        let isAnimating = false;
        let currentSolution = [];

        function initializeBoard() {
            currentBoardSize = parseInt(document.getElementById('boardSize').value);
            currentSolution = knightSolutions[currentBoardSize];
            
            const board = document.getElementById('chessBoard');
            board.style.gridTemplateColumns = `repeat(${currentBoardSize}, 1fr)`;
            board.innerHTML = '';

            // –°–æ–∑–¥–∞–µ–º –∫–ª–µ—Ç–∫–∏ –¥–æ—Å–∫–∏
            for (let row = 0; row < currentBoardSize; row++) {
                for (let col = 0; col < currentBoardSize; col++) {
                    const cell = document.createElement('div');
                    cell.className = `chess-cell ${(row + col) % 2 === 0 ? 'light' : 'dark'}`;
                    cell.id = `cell-${row}-${col}`;
                    board.appendChild(cell);
                }
            }

            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            document.getElementById('totalMoves').textContent = currentBoardSize * currentBoardSize;
            resetAnimation();
        }

        function updateDisplay() {
            // –û—á–∏—â–∞–µ–º –≤—Å–µ –∫–ª–µ—Ç–∫–∏
            for (let row = 0; row < currentBoardSize; row++) {
                for (let col = 0; col < currentBoardSize; col++) {
                    const cell = document.getElementById(`cell-${row}-${col}`);
                    cell.classList.remove('visited', 'current');
                    cell.textContent = '';
                }
            }

            // –û—Ç–º–µ—á–∞–µ–º –ø–æ—Å–µ—â–µ–Ω–Ω—ã–µ –∫–ª–µ—Ç–∫–∏
            for (let step = 0; step <= currentStep; step++) {
                for (let row = 0; row < currentBoardSize; row++) {
                    for (let col = 0; col < currentBoardSize; col++) {
                        if (currentSolution[row][col] === step) {
                            const cell = document.getElementById(`cell-${row}-${col}`);
                            cell.textContent = step;
                            if (step === currentStep) {
                                cell.classList.add('current');
                            } else {
                                cell.classList.add('visited');
                            }
                        }
                    }
                }
            }

            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            const totalMoves = currentBoardSize * currentBoardSize;
            const completion = Math.round((currentStep / (totalMoves - 1)) * 100);
            
            document.getElementById('currentMove').textContent = currentStep;
            document.getElementById('completionPercent').textContent = completion + '%';
            document.getElementById('progressFill').style.width = completion + '%';
        }

        function startAnimation() {
            if (isAnimating) return;
            
            isAnimating = true;
            const speed = parseInt(document.getElementById('speed').value);
            const totalMoves = currentBoardSize * currentBoardSize - 1;

            animationTimer = setInterval(() => {
                if (currentStep < totalMoves) {
                    currentStep++;
                    updateDisplay();
                } else {
                    pauseAnimation();
                }
            }, speed);
        }

        function pauseAnimation() {
            isAnimating = false;
            clearInterval(animationTimer);
        }

        function resetAnimation() {
            pauseAnimation();
            currentStep = 0;
            updateDisplay();
        }

        function nextStep() {
            if (currentStep < currentBoardSize * currentBoardSize - 1) {
                currentStep++;
                updateDisplay();
            }
        }

        function changeBoardSize() {
            pauseAnimation();
            initializeBoard();
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = function() {
            initializeBoard();
        };
    </script>
</body>
</html>
